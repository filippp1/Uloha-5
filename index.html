<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>fun times php</title>

	<link rel="stylesheet" href="./css/bootstrap.min.css">
	<link rel="stylesheet" href="./css/main.css">
</head>

<body class="container">

	<header class="page-header">
		<nav>
			<ul>
				<li>
					<a href="index.html">fun times PHP</a>
				</li>
				<li>
					<a href="eshop.html">Eshop</a>
				</li>
				<li>
					<a href="recommended.html">Artist Pick</a>
				</li>
			</ul>
		</nav>
		<h1 class="text-muted">fun times php</h1>
	</header>

	<main id="dudes" class="row dudes">

	</main>

	<footer class="row">
		<p>
			number of dudes: <strong id="numberOfDudes"></strong>
			<br>
			number of comments: <strong id="numberOfComments"></strong>
		</p>
	</footer>

	<script>
		const data = [
			{
				"who": "Finn the Human",
				"wat": "Finn is a silly kid who wants to become a great hero one day. He might not look too tough, but if there's evil around, he'll slay it. That's his deal.",
				"comments": 4
			},
			{
				"who": "Jake the Dog",
				"wat": "Finn's best friend is a wise, old dog with a big heart. Jake has the magical ability to stretch and grow. When evil's not running amok, he plays viola with Lady Rainicorn.",
				"comments": 23
			},
			{
				"who": "Ice King",
				"wat": "Armed with a magic crown and an icy heart, the Ice King has only one goal: to secure a wife by any means necessary.",
				"comments": 10
			},
			{
				"who": "Princess Bubblegum",
				"wat": "As a millionaire nerd enthusiast, Princess Bubblegum immerses herself in every branch of geekdom from rocket science to turtle farming.",
				"comments": 44
			},
			{
				"who": "Marcy the Vampire",
				"wat": "Marceline is a wild rocker girl. Centuries of wandering the Land of Ooo have made her a fearless daredevil.",
				"comments": 10
			}
		];

		numberOfDudes.innerText = `${data.length}`
		let commentCount = 0
		data.forEach(currentItem => {
			const parent = document.getElementById("dudes")
			const numberOfDudes = document.getElementById("numberOfDudes")
			const numberOfComments = document.getElementById("numberOfComments")

			let article = document.createElement("article")
			let paragraph = document.createElement("p")
			let heading = document.createElement("h4")
			let link = document.createElement("href")
			let footer = document.createElement("footer")

			paragraph.textContent = `${currentItem.wat}`
			link.href = `./dude/${(currentItem.who).replaceAll(" ", "-")}`
			link.textContent = `${currentItem.who}`
			footer.textContent = `${currentItem.comments}`
			footer.className = "comments"

			heading.appendChild(link)
			article.appendChild(heading)
			article.appendChild(paragraph)
			article.appendChild(footer)

			parent.appendChild(article)
			commentCount += currentItem.comments
			numberOfComments.innerText = `${commentCount}`
		});
	</script>

</body>

</html>